!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EasyDom=t():e.EasyDom=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n="";function i(){n=""}function o(e){return n+e}class s{constructor(e){var{tag:t,ele:r}=e;this.el=r||document.createElement(t)}dom(){return this.el}cls(e){return void 0===e?this.el.className:(this.el.className=""!==n?e.split(" ").map(e=>o(e)).join(" "):e,this)}id(e){return void 0===e?this.attr("id"):this.attr("id",e)}attr(e,t){if("object"==typeof e){for(var r in e)this.el.setAttribute(r,e[r]);return this}return void 0===t?this.el.getAttribute(e):(null===t?this.el.removeAttribute(e):this.el.setAttribute(e,t),this)}style(e,t){if(void 0===t){if(e instanceof Array){var r={};return e.forEach(e=>{r[e]=this.style(e)}),r}if("object"==typeof e){for(var n in e)this.style(n,e[n]);return this}return getComputedStyle(this.el)[e]}return"string"==typeof t&&-1!==t.indexOf("!important")?this.el.style.setProperty(e,a(this.el,e,t.substring(0,t.indexOf("!important"))),"important"):this.el.style.setProperty(e,a(this.el,e,t)),this}text(e){return void 0===e?this.el.innerText:(this.el.innerText=e,this)}html(e){return void 0===e?this.el.innerHTML:(this.el.innerHTML=e,this)}click(e){return this.on("click",e)}on(e,t){if("object"==typeof e){for(var r in e)this.on(r,e[r]);return this}if("function"!=typeof t)throw new Error("事件类型应该为 function");return this.el.addEventListener(e,t,!1),this}addClass(e){return e=o(e),this.hasClass(e)||(""===this.el.className?this.el.className=e:this.el.className+=" "+e),this}hasClass(e){return u(e=o(e)).test(this.el.className)}rmClass(e){return e=o(e),this.hasClass(e)&&(this.el.className=this.el.className.replace(u(e)," ").trim()),this}replaceClass(e,t){return e=o(e),t=o(t),this.hasClass(e)?this.el.className=this.el.className.replace(u(e)," "+t+" ").trim():this.addClass(t),this}append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(e=>{this.el.appendChild(f(e))}),this}remove(e){return"number"==typeof e?this.el.removeChild(this.el.children[e]):this.el.removeChild(e.dom()),this}parent(){return new s({ele:this.el.parentNode})}child(e){return e?new s({ele:this.el.children[e]}):Array.prototype.slice.apply(this.el.children).map(e=>new s({ele:e}))}exe(e){return e.call(this,this.dom()),this}src(e){return this.dom().src=e,this}render(e){var{html:t,method:r={},result:n=null}=e;this.html(function(e){return e.replace(new RegExp("\\n *","g"),"").replace(new RegExp("\x3c!--(.|\\n)*?--\x3e","g"),"").trim()}(t));var i={};if("function"==typeof n){for(var o=this.query("[\\@el]"),s=0;s<o.length;s++){var u=o[s];i[u.attr("@el")]=u,u.attr("@el",null)}n.call({el:this,method:r},i)}for(var a=this.query("[\\@event]"),c=0;c<a.length;c++){var f=a[c],h=l(f);r[h.name]&&f.on(h.event,r[h.name].bind({el:this,bindEl:i,self:f,method:r},...h.args))}return this}query(e){for(var t=this.el.querySelectorAll(e),r=[],n=0;n<t.length;n++)r.push(h(t[n]));return r}}function l(e){var t=e.attr("@event").split(":");e.attr("@event",null);var r,n="click",i=[];if(1===t.length?r=t[0]:(n=t[0],r=t[1]),-1!==r.indexOf("(")){var o=r.match(/\(.*\)/);if(null!==o){var s=o[0].replace(/'/g,'"');s="[".concat(s.substr(1,s.length-2),"]"),i=JSON.parse(s)}r=r.substr(0,r.indexOf("("))}return{event:n,name:r,args:i}}function u(e){return new RegExp("(^| )"+e+"($| )")}function a(e,t,r){if("string"==typeof r&&(-1!==r.indexOf("-=")||-1!==r.indexOf("+="))){var n,i=c(r.substring(r.indexOf("=")+1));return-1!==r.indexOf("-=")&&(i[0]=-i[0]),n=-1!==r.indexOf("%")?c(e.style[t]):c(getComputedStyle(e)[t]),i[0]+n[0]+i[1]}return r}function c(e,t){if(""!=e&&null!=e||(e="0%"),null==t)if(e.has("px"))t="px";else if(e.has("%"))t="%";else{if(!e.has("em"))return[parseFloat(e),"px"];t="em"}return[parseFloat(e.substring(0,e.indexOf(t))),t]}function f(e){return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):e.dom()}function h(e,t){if(e instanceof HTMLElement)return new s({ele:e});if("object"==typeof e)return e;if(!0===t)return document.querySelectorAll(e);var r=document.querySelector(e);return r?new s({ele:r}):null}var d={},p={};function m(e){var{func:t,id:r="el-style",pool:n=!1}=e;if("function"!=typeof t||!t.hasReport){if(n){var i=t(d);return t.hasReport=!0,void(p[r]?p[r]+=i:p[r]=i)}var o="";"string"==typeof t?o=t:(t.hasReport=!0,o=t(d)),o=function(e){return e.replace(new RegExp("\\n *","g"),"").replace(new RegExp(" *\\{","g"),"{").replace(new RegExp("\\/\\*(.|\\n)*?\\*\\/","g"),"").trim()}(o);var s=g.query("#"+r);s||(s=g.create("style").id(r),g.query(document.head).append(s)),s.html(s.html()+o)}}var v=function(){};function y(e,t){var r="touches";return"end"===t&&(r="changedTouches"),e[r]=[{clientX:e.clientX,clientY:e.clientY,force:1,identifier:0,pageX:e.pageX,pageY:e.pageY,radiusX:11.5,radiusY:11.5,rotationAngle:0,screenX:e.screenX,screenY:e.screenY,target:e.target}],e}var g=t.default={query:h,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return new s({tag:e})},classPrefix:function(e,t){n=e,"function"==typeof t&&(t(i),i())},clearClassPrefix:i,checkDom:f,reportStyle:m,addCommonStyle:function e(t,r){if("object"!=typeof t)void 0===d[t]?d[t]=r:console.warn("addCommonStyle 存在重名变量："+t);else for(var n in t)e(n,t[n])},initStylePool:function(){for(var e in p)m({func:p[e],id:e});p={}},registTouchEvent:function(e){var{el:t,touchStart:r=v,touchMove:n=v,touchEnd:i=v}=e;if(/Android|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent))g.query(t).on({touchstart:r,touchmove:n,touchend:i}),document.body.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1});else{var o=!1;g.query(t).on({mousedown:e=>{o=!0,r(y(e))}}),g.query(document.body).on({mousemove:e=>{e.preventDefault(),o&&n(y(e))},mouseup:e=>{o&&(o=!1,i(y(e,"end")))}})}},windowSize:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},version:"dev"}}]).default}));